<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>2025 · 我们的年度总结</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #E2C088; --bg-dark: #0A0A0A; }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; }
        body { background: var(--bg-dark); font-family: 'Noto Serif SC', serif; color: #fff; height: 100dvh; overflow: hidden; }

        /* --- 沉浸式进度条 --- */
        .progress-bar-container {
            position: fixed; top: env(safe-area-inset-top); left: 0; width: 100%; height: 20px;
            display: flex; gap: 4px; padding: 10px 15px; z-index: 1000;
        }
        .progress-segment { flex: 1; height: 2px; background: rgba(255,255,255,0.2); border-radius: 2px; overflow: hidden; }
        .progress-inner { height: 100%; width: 0%; background: #fff; transition: width 0.1s linear; }

        /* --- 动态背景层 (弥散光) --- */
        .aura-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 50% 50%, #2c2c2c 0%, #000 100%);
            z-index: 0;
        }
        .aura-sphere {
            position: absolute; width: 300px; height: 300px; background: var(--accent);
            filter: blur(100px); opacity: 0.15; border-radius: 50%; animation: move 10s infinite alternate;
        }
        @keyframes move { from { transform: translate(-20%, -20%); } to { transform: translate(20%, 20%); } }

        /* --- 音乐控制 --- */
        #music-btn {
            position: fixed; top: calc(env(safe-area-inset-top) + 25px); right: 20px; z-index: 1000;
            width: 30px; height: 30px; display: none;
        }
        .music-disk { width: 100%; height: 100%; border: 1px solid rgba(255,255,255,0.5); border-radius: 50%; animation: rotate 4s linear infinite; }
        @keyframes rotate { 100% { transform: rotate(360deg); } }

        /* --- 页面样式 --- */
        .swiper { width: 100%; height: 100%; }
        .swiper-slide { display: flex; flex-direction: column; justify-content: flex-end; padding: 0 30px; }

        /* 大标题：第一个瞬间 */
        .moment-index {
            position: absolute; top: 12%; left: 30px; font-size: 42px; font-weight: 900;
            color: rgba(255,255,255,0.08); -webkit-text-stroke: 1px rgba(255,255,255,0.3);
            letter-spacing: -2px; z-index: 5;
        }
        .swiper-slide-active .moment-index { animation: slideInLeft 1s both; }

        /* 图片框：APP 悬浮感 */
        .photo-wrapper {
            position: relative; width: 100%; height: 45vh; border-radius: 12px; overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.8); z-index: 10; margin-bottom: 30px;
        }
        .photo-wrapper img { width: 100%; height: 100%; object-fit: contain; background: #000; }

        /* 文字面板 */
        .text-content { z-index: 10; margin-bottom: calc(60px + env(safe-area-inset-bottom)); }
        .moment-title { font-size: 22px; font-weight: 700; color: var(--accent); margin-bottom: 12px; }
        .moment-desc { font-size: 15px; line-height: 1.8; color: rgba(255,255,255,0.9); text-align: justify; }

        /* 总结页特供 */
        .summary-slide { justify-content: center; background: #000; }
        .summary-text { font-size: 14px; line-height: 2; color: rgba(255,255,255,0.8); text-align: center; }
        .summary-highlight { color: var(--accent); font-weight: 700; margin: 15px 0; display: block; font-size: 16px; }

        /* 引导入口 */
        #entry-mask {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .entry-btn { padding: 15px 40px; border: 1px solid var(--accent); color: var(--accent); background: none; letter-spacing: 4px; margin-top: 20px; }

        @keyframes slideInLeft { from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); } }
    </style>
</head>
<body>

    <div id="entry-mask">
        <div style="font-size: 24px; font-weight: 300;">2025 年度记录</div>
        <button class="entry-btn" onclick="initApp()">开启回忆</button>
    </div>

    <div class="progress-bar-container" id="progressBar"></div>

    <audio id="bgm" src="bgm.mp3" loop preload="auto"></audio>
    <div id="music-btn" onclick="toggleMusic()"><div class="music-disk"></div></div>

    <div class="aura-bg"><div class="aura-sphere"></div></div>

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="mainWrapper">
            </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        const data = [
            { title: "副驾上的告白", desc: "晚饭像场尴尬的行为艺术。车内空气快要液化时，你让我靠边，盯着我说：这不是对姐姐的喜欢，而是某种更原始、更麻烦的，男人对女人的爱。那一刻，你亲手击穿了我由理智和克制组成的防御工事。奇怪的是，我没碎，反而被你稳稳接住了，于是我们相爱了。" },
            { title: "散步时的算计", desc: "第一次吻我发生得毫无预兆你突然拉我起身，将我用力抱住。你的呼吸贴着我的脖子，急促得像是刚从一场跨越世纪的奔跑。那一刻没有什么浪漫的算计，只有一种要把对方揉进骨血里的蛮劲。世界在那一刻是静止的，但这种静止比任何激烈的动作都更热烈。" },
            { title: "灵肉交代后的告白", desc: "我和你都是对生活保持高度警惕的动物，但在这种淋漓尽致的巅峰时刻，我们透过彼此的呼吸、战栗、绷紧的肌肉，清晰地触摸到了彼此的灵魂。你下意识地问：“你愿不愿意嫁给我？”这是我第一次被灵魂拷问。" },
            { title: "车里的三十岁生日", desc: "你的三十岁生日，在局促的小车里，只有简单的意面和蛋糕。但你看着这些，眼眶红了。那滴被你偷偷抹去的眼泪，比任何礼物都纯粹。喧嚣的世界撤退了，只剩下一种绝对的平静和安稳。" },
            { title: "冗长信息里的定风丹", desc: "就在我最无所适从时，你发来一条长长的信息，平静地告诉我你会一直爱我。那条信息像是个安神丸，生生止住了我的慌乱。原来，最高级的治愈不是甜言蜜语，而是你依然愿意给我一份冗长且认真的交代。" },
            { title: "逃离规则的投名状", desc: "你轻描淡写地说“翘班了”。对于你这种严谨冷智的人来说，这种对规则的小小背叛，确实对我最动人的告白。它证明在你的价值排序里，我终于排在了那些“正确的事情”之前。" },
            { title: "车站里的温热胃泰", desc: "出差归来，你递来的保温杯里装的是温热的三九胃泰。我喝到它的那一刻，所有的奶茶咖啡都显得苍白。这种带有药味的关怀，直抵常态生活的本质。它温热了我的胃，也熨平了我的心。" },
            { title: "词不达意的回响", desc: "看着你拆礼物时那些词不达意、甚至带着泪光的信息，我突然觉得爱人是一件极美好的事。你像一个被宠爱的宝贝一样欢心热烈，是爱和人生最真实的回馈。" },
            { title: "被投喂的心疼", desc: "当紧急药丸的副作用让我难受时，你忙着买水果、炖肉，一刻不停。我总嫌你不善表达，但当胃里被你的心疼塞满时，我明白：这就是你最深刻的表达。" },
            { title: "短途出逃", desc: "像地下工作者一样在地铁接头，逃往陌生的城市。直到看见一桌的小食和放满热水的浴缸才发现，原来被人宠在细节里，才是最极致的疼爱。" }
        ];

        const chineseNums = ["第一个", "第二个", "第三个", "第四个", "第五个", "第六个", "第七个", "第八个", "第九个", "第十个"];

        // 动态渲染
        const wrapper = document.getElementById('mainWrapper');
        const progressContainer = document.getElementById('progressBar');
        
        data.forEach((item, i) => {
            wrapper.innerHTML += `
                <div class="swiper-slide">
                    <div class="moment-index">${chineseNums[i]}瞬间</div>
                    <div class="photo-wrapper"><img src="0${i+1}.jpg"></div>
                    <div class="text-content">
                        <h2 class="moment-title">${item.title}</h2>
                        <p class="moment-desc">${item.desc}</p>
                    </div>
                </div>
            `;
            progressContainer.innerHTML += `<div class="progress-segment"><div class="progress-inner"></div></div>`;
        });

        // 总结页
        wrapper.innerHTML += `
            <div class="swiper-slide summary-slide">
                <div class="summary-text">
                    <p>当然，还有很多很多的瞬间...</p>
                    <p>比如在马来西亚旅行时，你让我替你选个礼物</p>
                    <p>比如你靠近我时，手总会下意识 touch 到我</p>
                    <p class="summary-highlight">羽毛球拍、衣服、包包、水果、杯子...<br>还有隔三差五的奶茶与咖啡</p>
                    <p>每周一晚上的炸酱面，分给我的蔚来 Key</p>
                    <p>你总说我融进了你的生活，其实你早就侵略了我</p>
                    <p>我们要的亲密和时间还是远远不够</p>
                    <p“如果在此之前，我们是活着”</p>
                    <p class="summary-highlight">>“那从此之后，我们可以精彩地活着”</p>
                </div>
            </div>
        `;
        progressContainer.innerHTML += `<div class="progress-segment"><div class="progress-inner"></div></div>`;

        function initApp() {
            document.getElementById('entry-mask').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('entry-mask').style.display = 'none';
                document.getElementById('music-btn').style.display = 'block';
                document.getElementById('bgm').play();
            }, 1000);
        }

        const swiper = new Swiper(".mySwiper", {
            direction: "vertical",
            speed: 800,
            on: {
                slideChange: function() {
                    updateProgress(this.activeIndex);
                }
            }
        });

        function updateProgress(index) {
            const inners = document.querySelectorAll('.progress-inner');
            inners.forEach((el, i) => {
                el.style.width = i <= index ? '100%' : '0%';
            });
        }
        updateProgress(0);

        function toggleMusic() {
            const bgm = document.getElementById('bgm');
            bgm.paused ? bgm.play() : bgm.pause();
        }
    </script>
</body>
</html>

